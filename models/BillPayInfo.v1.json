{
  "title": "BillPayInfo",
  "type": "object",
  "description": "账单支付信息,包含用户支付费用及商户结算信息.\n\n用户支付信息:该账单只支持银行转帐支付方式进行缴款.\n\n             用户支付信息包含:(1)应转帐打款的收款银行账号信息.\n             \n                              (2).应缴的人民币金额\n                              \n                              (3).账单的有效时间（锁汇模式下汇率有效期）\n                              \n商户结算信息:\n\n业务开通前会为相关商户开通支持币种的外币帐户（同时会开通CNY账号），生成账单前，可能需要查询有效汇率（长期有效）。\n\n系统支持如下两种结算模式：          \n          <1>.商户根据业务约定（境外商户），先查询有效汇率（账单中提供锁汇汇率ID），账单中确定应收人民币金额，同时提供结算币种和金额，系统进行核对。客户有效期内及时缴费，将按约定金额进行汇兑结算。\n          <2>.商户根据业务约定（境内商户），账单只提供客户应缴人民币金额及人民币金额费用的构成项（即billAmount与paymentAmount同）,账单无汇率信息，汇兑(分发)交易由汇兑(分发)指令进行处理。\n          \n          ",
  "x-examples": {
    "example-1": {}
  },
  "properties": {
    "billId": {
      "type": "string",
      "description": "PsP 账单编号"
    },
    "billAmount": {
      "type": "string",
      "description": "账单金额"
    },
    "billCurrency": {
      "type": "string",
      "description": "账单币种"
    },
    "paymentAmount": {
      "type": "string",
      "description": "支付人民币金额"
    },
    "rate": {
      "type": "string",
      "description": "锁定的汇率，与rateid一同出现。 "
    },
    "rateId": {
      "type": "string",
      "description": "支付时使用的汇率ID  如果有该值则为锁定汇率 "
    },
    "recevingaccount": {
      "$ref": "./RecevingAccount.v1.json"
    },
    "expirTime": {
      "type": "string",
      "format": "date-time",
      "description": "账单过期日期"
    },
    "status": {
      "type": "string",
      "default": "init",
      "description": "账单当前状态\n\n| status | description |\n|--------|-------------|\n|init | 账单初始创建 |\n|payed| 账单有资金入帐发生，可进行资料审核操作|\n|reviewed|账单对应贸易材料审核完成,可进行汇兑（分发）处理|\n|exchanged|对应账单汇兑(分发)处理完成|\n|expired|账单过期失效|\n\n状态变迁说明：\ninit --> payed :  账单生成后，当发现有钱转入临时账号时（不一定足额）发生,payed后可对材料信息进行驱动审核。\npayed -->reviewed 对应账单材料审核通过后发生，后续可进行汇兑(分发)处理。\ninit --> expired 相关账单有效期内一直没有支付关闭帐单。\nreviewed --> exchanged 账单完成汇兑处理。\n\n",
      "enum": [
        "init",
        "reviewed",
        "payed",
        "expired"
      ]
    },
    "createTime": {
      "type": "string",
      "default": "sysdate",
      "format": "date-time",
      "description": "账单支付信息生成时间"
    },
    "BillItem": {
      "type": "array",
      "items": {
        "$ref": "./BillPayItemInfo.v1.json"
      }
    }
  },
  "required": [
    "billId",
    "billAmount",
    "billCurrency",
    "paymentAmount",
    "recevingaccount"
  ]
}